{"$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"environment_resource":{"allOf":[{"if":{"properties":{"type":{"const":"gcp_project"}}},"then":{"properties":{"dm_script":{"$ref":"common.json#/definitions/file_path"},"dm_template":{"additionalProperties":false,"properties":{"custom_properties":{"items":{"additionalProperties":false,"properties":{"key":{"type":"string"},"value":{"type":"string"}},"required":["key","value"],"type":"object"},"type":"array"},"script":{"$ref":"common.json#/definitions/file_path"}},"type":"object"},"fleet":{"type":"string"}}}},{"if":{"properties":{"type":{"const":"gcp_user"}}},"then":{"properties":{"permissions":{"items":{"additionalProperties":false,"properties":{"project":{"type":"string"},"roles":{"items":{"type":"string"},"type":"array"}},"required":["project","roles"],"type":"object"},"type":"array"}}}}],"properties":{"id":{"type":"string"},"type":{"enum":["gcp_project","gcp_project_and_user","gcp_user","gsuite_domain","jupyter","jupyter_notebook"],"type":"string"}},"required":["type"],"type":"object"},"instruction":{"additionalProperties":false,"properties":{"locales":{"additionalProperties":{"$ref":"common.json#/definitions/file_path"},"propertyNames":{"$ref":"common.json#/definitions/locale"},"type":"object"},"type":{"enum":["html","markdown","pdf"],"type":"string"}},"required":["type","locales"],"type":"object"}},"properties":{"activity_tracking":{"$ref":"common.json#/definitions/file_path"},"assessment":{"$ref":"common.json#/definitions/file_path"},"credits":{"minimum":0,"type":"integer"},"default_locale":{"$ref":"common.json#/definitions/locale"},"description":{"$ref":"common.json#/definitions/localized_string"},"duration":{"minimum":0,"type":"integer"},"entity_type":{"const":"Lab","type":"string"},"environment_resources":{"items":{"$ref":"#/definitions/environment_resource"},"type":"array"},"instruction":{"$ref":"#/definitions/instruction"},"lab_test_script":{"$ref":"common.json#/definitions/file_path"},"legacy_display_options":{"items":{"enum":["hide_connection_fleetconsole","show_connection_ssh","show_connection_vnc","show_connection_rdp","show_connection_custom","show_connection_access_key_id","allow_immediate_entry"],"type":"string"},"type":"array"},"level":{"type":"string"},"logo":{"$ref":"common.json#/definitions/file_path"},"max_duration":{"minimum":0,"type":"integer"},"resources":{"items":{"$ref":"common.json#/definitions/lab_resource"},"type":"array"},"schema_version":{"const":1,"type":"integer"},"tagline":{"type":"string"},"tags":{"items":{"type":"string"},"type":"array"},"title":{"$ref":"common.json#/definitions/localized_string"}},"required":["entity_type","schema_version","default_locale","title","description","duration"],"type":"object"}